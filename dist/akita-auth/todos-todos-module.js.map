{"version":3,"sources":["webpack:///./src/app/todos/filter/filter.component.html","webpack:///./src/app/todos/filter/filter.component.scss","webpack:///./src/app/todos/filter/filter.component.ts","webpack:///./src/app/todos/filter/filter.model.ts","webpack:///./src/app/todos/page/page.component.html","webpack:///./src/app/todos/page/page.component.scss","webpack:///./src/app/todos/page/page.component.ts","webpack:///./src/app/todos/state/todo.model.ts","webpack:///./src/app/todos/state/todos.query.ts","webpack:///./src/app/todos/state/todos.service.ts","webpack:///./src/app/todos/state/todos.store.ts","webpack:///./src/app/todos/todo/todo.component.html","webpack:///./src/app/todos/todo/todo.component.scss","webpack:///./src/app/todos/todo/todo.component.ts","webpack:///./src/app/todos/todos.module.ts","webpack:///./src/app/todos/todos.routing.module.ts","webpack:///./src/app/todos/todos/todos.component.html","webpack:///./src/app/todos/todos/todos.component.scss","webpack:///./src/app/todos/todos/todos.component.ts"],"names":[],"mappings":"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","file":"todos-todos-module.js","sourcesContent":["module.exports = \"<div class=\\\"input-field col s12\\\">\\n  <select [formControl]=\\\"control\\\" class=\\\"browser-default\\\">\\n    <option *ngFor=\\\"let filter of filters\\\" [ngValue]=\\\"filter.value\\\">{{ filter.label }} </option>\\n  </select>\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RvZG9zL2ZpbHRlci9maWx0ZXIuY29tcG9uZW50LnNjc3MifQ== */\"","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { untilDestroyed } from 'ngx-take-until-destroy';\nimport { TodoFilter, VISIBILITY_FILTER } from './filter.model';\n\n@Component({\n  selector: 'app-todos-filter',\n  templateUrl: './filter.component.html',\n  styleUrls: ['./filter.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TodosFilterComponent implements OnInit, OnDestroy {\n  _active: VISIBILITY_FILTER;\n\n  @Input()\n  set active(filter: VISIBILITY_FILTER) {\n    this._active = filter;\n    if (this.control) {\n      this.control.patchValue(filter, { emitEvent: false });\n    }\n  }\n\n  @Input()\n  filters: TodoFilter[];\n\n  @Output()\n  update = new EventEmitter<VISIBILITY_FILTER>();\n\n  control: FormControl;\n\n  constructor() {}\n\n  ngOnInit() {\n    this.control = new FormControl(this._active);\n\n    this.control.valueChanges.pipe(untilDestroyed(this)).subscribe(value => {\n      this.update.emit(value);\n    });\n  }\n\n  ngOnDestroy() {}\n}\n","export enum VISIBILITY_FILTER {\n  SHOW_COMPLETED = 'SHOW_COMPLETED',\n  SHOW_ACTIVE = 'SHOW_ACTIVE',\n  SHOW_ALL = 'SHOW_ALL'\n}\n\nexport interface TodoFilter {\n  label: string;\n  value: VISIBILITY_FILTER;\n}\n\nexport const initialFilters: TodoFilter[] = [\n  { label: 'All', value: VISIBILITY_FILTER.SHOW_ALL },\n  { label: 'Completed', value: VISIBILITY_FILTER.SHOW_COMPLETED },\n  { label: 'Active', value: VISIBILITY_FILTER.SHOW_ACTIVE }\n];\n","module.exports = \"<div class=\\\"container\\\">\\n  <h4>\\n    Todos\\n  </h4>\\n  <h5>\\n    Welcome to todos\\n  </h5>\\n  <div class=\\\"content\\\">\\n    <div>\\n\\n      <div class=\\\"input-field\\\">\\n        <i class=\\\"material-icons prefix\\\">add_alarm</i>\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Add Todo...\\\" #input (keydown.enter)=\\\"add(input)\\\">\\n      </div>\\n\\n      <app-todos-filter (update)=\\\"changeFilter($event)\\\" [filters]=\\\"filters\\\" [active]=\\\"activeFilter$ | async\\\">\\n      </app-todos-filter>\\n\\n      <label>\\n        <input type=\\\"checkbox\\\" (change)=\\\"checkAll($event)\\\" [checked]=\\\"checkAll$ | async\\\" />\\n        <span>Select All</span>\\n      </label>\\n\\n      <app-todos [todos]=\\\"todos$ | async\\\" (delete)=\\\"delete($event)\\\" (complete)=\\\"complete($event)\\\"></app-todos>\\n\\n      <div class=\\\"flex align-center\\\">\\n        <button class=\\\"btn waves-effect waves-light\\\" [class.disabled]=\\\"!stateHistory.hasPast\\\" (click)=\\\"undo()\\\">Undo\\n          <i class=\\\"material-icons right\\\">undo</i>\\n        </button>\\n\\n        <button class=\\\"btn waves-effect waves-light\\\" [class.disabled]=\\\"!stateHistory.hasFuture\\\" (click)=\\\"redo()\\\">Redo\\n          <i class=\\\"material-icons right\\\">redo</i>\\n        </button>\\n\\n      </div>\\n\\n    </div>\\n\\n    <section>\\n      <h4>Todos - Entity History</h4>\\n      <table>\\n        <thead>\\n          <tr>\\n            <th>Id</th>\\n            <th>Title</th>\\n            <th>Completed</th>\\n            <th>Undo</th>\\n            <th>Redo</th>\\n          </tr>\\n        </thead>\\n\\n        <tbody>\\n          <tr *ngFor=\\\"let todo of todos$ | async\\\">\\n            <td>{{todo.id}}</td>\\n            <td>{{todo.title}}</td>\\n            <td>\\n              <label>\\n                <input type=\\\"checkbox\\\" [checked]=\\\"todo.completed\\\" (change)=\\\"complete2($event, todo)\\\" />\\n                <span></span>\\n              </label>\\n            </td>\\n            <td>\\n              <a class=\\\"btn-floating\\\" [class.disabled]=\\\"!stateHistoryEntity.hasPast(todo.id)\\\"><i class=\\\"material-icons\\\"\\n                  (click)=\\\"undo(todo.id)\\\">undo</i></a>\\n            </td>\\n            <td>\\n              <a class=\\\"btn-floating\\\" [class.disabled]=\\\"!stateHistoryEntity.hasFuture(todo.id)\\\"><i\\n                  class=\\\"material-icons\\\" (click)=\\\"redo(todo.id)\\\">redo</i></a>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n\\n    </section>\\n\\n  </div>\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RvZG9zL3BhZ2UvcGFnZS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { EntityStateHistoryPlugin, ID, isUndefined, StateHistoryPlugin } from '@datorama/akita';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { initialFilters, VISIBILITY_FILTER } from '../filter/filter.model';\nimport { Todo } from '../state/todo.model';\nimport { TodosQuery } from '../state/todos.query';\nimport { TodosService } from '../state/todos.service';\n\n@Component({\n  selector: 'app-todos-page',\n  templateUrl: './page.component.html',\n  styleUrls: ['./page.component.scss']\n})\nexport class TodosPageComponent implements OnInit {\n  todos$: Observable<Todo[]>;\n  activeFilter$: Observable<VISIBILITY_FILTER>;\n\n  filters = initialFilters;\n  checkAll$: Observable<boolean>;\n  stateHistory: StateHistoryPlugin;\n  stateHistoryEntity: EntityStateHistoryPlugin<Todo>;\n\n  constructor(private todosQuery: TodosQuery, private todosService: TodosService) {}\n\n  ngOnInit() {\n    this.todos$ = this.todosQuery.selectVisibleTodos$;\n    this.activeFilter$ = this.todosQuery.selectVisibilityFilter$;\n    this.checkAll$ = this.todosQuery.checkAll$.pipe(\n      map(numCompleted => numCompleted && numCompleted === this.todosQuery.getCount())\n    );\n    this.stateHistory = new StateHistoryPlugin(this.todosQuery);\n    this.stateHistoryEntity = new EntityStateHistoryPlugin<Todo>(this.todosQuery);\n  }\n\n  undo(id?: ID) {\n    if (isUndefined(id)) {\n      this.stateHistory.undo();\n    } else {\n      this.stateHistoryEntity.undo(id);\n    }\n  }\n\n  redo(id?: ID) {\n    if (isUndefined(id)) {\n      this.stateHistory.redo();\n    } else {\n      this.stateHistoryEntity.redo(id);\n    }\n  }\n\n  add(input: HTMLInputElement) {\n    this.todosService.add(input.value);\n    input.value = '';\n  }\n\n  complete(todo: Todo) {\n    this.stateHistory.ignoreNext();\n    this.todosService.complete(todo);\n  }\n\n  complete2(event: { target: { checked: any } }, todo: Todo) {\n    const _todo = { ...todo, completed: event.target.checked };\n    this.todosService.complete(_todo);\n  }\n\n  delete(id: ID) {\n    this.todosService.delete(id);\n  }\n\n  changeFilter(filter: VISIBILITY_FILTER) {\n    this.todosService.updateFilter(filter);\n  }\n\n  checkAll({ target }) {\n    this.todosService.checkAll(target.checked);\n  }\n}\n","import { guid, ID } from '@datorama/akita';\n\nexport type Todo = {\n  id: ID;\n  title: string;\n  completed: boolean;\n};\n\nexport function createTodo(title: Todo['title']) {\n  return {\n    id: guid(),\n    title,\n    completed: false\n  } as Todo;\n}\n","import { Injectable } from '@angular/core';\nimport { QueryEntity } from '@datorama/akita';\nimport { combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { VISIBILITY_FILTER } from '../filter/filter.model';\nimport { Todo } from './todo.model';\nimport { TodosState, TodosStore } from './todos.store';\n\n@Injectable({ providedIn: 'root' })\nexport class TodosQuery extends QueryEntity<TodosState, Todo> {\n  selectVisibilityFilter$ = this.select(state => state.ui.filter);\n\n  selectVisibleTodos$ = combineLatest(this.selectVisibilityFilter$, this.selectAll()).pipe(\n    map(([filter, todos]) => {\n      return this.getVisibleTodos(filter, todos);\n    })\n  );\n\n  checkAll$ = this.selectCount(entity => entity.completed);\n\n  constructor(protected store: TodosStore) {\n    super(store);\n  }\n\n  private getVisibleTodos(filter: VISIBILITY_FILTER, todos: Todo[]): Todo[] {\n    switch (filter) {\n      case VISIBILITY_FILTER.SHOW_COMPLETED:\n        return todos.filter((t: { completed: any }) => t.completed);\n      case VISIBILITY_FILTER.SHOW_ACTIVE:\n        return todos.filter((t: { completed: any }) => !t.completed);\n      default:\n        return todos;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { action, ID } from '@datorama/akita';\nimport { VISIBILITY_FILTER } from '../filter/filter.model';\nimport { createTodo, Todo } from './todo.model';\nimport { TodosStore } from './todos.store';\n\n@Injectable({ providedIn: 'root' })\nexport class TodosService {\n  constructor(private todosStore: TodosStore) {}\n\n  @action('Update filter')\n  updateFilter(filter: VISIBILITY_FILTER) {\n    this.todosStore.update({\n      ui: {\n        filter\n      }\n    });\n  }\n\n  complete({ id, completed }: Todo) {\n    this.todosStore.update(id, { completed });\n  }\n\n  add(title: string) {\n    const todo = createTodo(title);\n    this.todosStore.add(todo);\n  }\n\n  delete(id: ID) {\n    this.todosStore.remove(id);\n  }\n\n  checkAll(completed: boolean) {\n    this.todosStore.update(null, {\n      completed\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActiveState, EntityState, EntityStore, StoreConfig } from '@datorama/akita';\nimport { VISIBILITY_FILTER } from '../filter/filter.model';\nimport { Todo } from './todo.model';\n\nexport interface TodosState extends EntityState<Todo>, ActiveState {\n  ui: {\n    filter: VISIBILITY_FILTER;\n  };\n}\n\nconst initialState = {\n  ui: { filter: VISIBILITY_FILTER.SHOW_ALL }\n};\n\n@Injectable({ providedIn: 'root' })\n@StoreConfig({\n  name: 'todos'\n})\nexport class TodosStore extends EntityStore<TodosState, Todo> {\n  constructor() {\n    super(initialState);\n  }\n}\n","module.exports = \"<div class=\\\"flex align-center sb\\\">\\n  <div class=\\\"flex\\\">\\n    <label>\\n      <input type=\\\"checkbox\\\" [formControl]=\\\"control\\\" />\\n      <span></span>\\n    </label>\\n    {{todo.title}}\\n  </div>\\n  <a class=\\\"btn waves-effect waves-light red btn-small btn-floating\\\">\\n    <i class=\\\"material-icons\\\" (click)=\\\"delete.emit(todo.id)\\\">delete_forever</i>\\n  </a>\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RvZG9zL3RvZG8vdG9kby5jb21wb25lbnQuc2NzcyJ9 */\"","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { ID } from '@datorama/akita';\nimport { untilDestroyed } from 'ngx-take-until-destroy';\nimport { Todo } from '../state/todo.model';\n\n@Component({\n  selector: 'app-todo',\n  templateUrl: './todo.component.html',\n  styleUrls: ['./todo.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TodoComponent implements OnInit, OnDestroy {\n  @Input()\n  todo: Todo;\n\n  @Output()\n  complete = new EventEmitter<Todo>();\n\n  @Output()\n  delete = new EventEmitter<ID>();\n\n  control: FormControl;\n\n  constructor() {}\n\n  ngOnInit() {\n    this.control = new FormControl(this.todo.completed);\n\n    this.control.valueChanges.pipe(untilDestroyed(this)).subscribe((completed: boolean) => {\n      this.complete.emit({ ...this.todo, completed });\n    });\n  }\n\n  ngOnDestroy(): void {}\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { SharedModule } from '@shared/shared.module';\nimport { TodosFilterComponent } from './filter/filter.component';\nimport { TodosPageComponent } from './page/page.component';\nimport { TodoComponent } from './todo/todo.component';\nimport { TodosRoutingModule } from './todos.routing.module';\nimport { TodosComponent } from './todos/todos.component';\n\n@NgModule({\n  declarations: [TodosComponent, TodoComponent, TodosFilterComponent, TodosPageComponent],\n  imports: [SharedModule, TodosRoutingModule]\n})\nexport class TodosModule {}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { TodosPageComponent } from './page/page.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TodosPageComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class TodosRoutingModule {}\n","module.exports = \"<div class=\\\"collection with-header\\\">\\n  <h4 class=\\\"collection-header\\\">Todos:</h4>\\n  <app-todo *ngFor=\\\"let todo of todos;\\\" class=\\\"collection-item\\\" (delete)=\\\"delete.emit($event)\\\"\\n    (complete)=\\\"complete.emit($event)\\\" [todo]=\\\"todo\\\"></app-todo>\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RvZG9zL3RvZG9zL3RvZG9zLmNvbXBvbmVudC5zY3NzIn0= */\"","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { ID } from '@datorama/akita';\nimport { Todo } from '../state/todo.model';\n\n@Component({\n  selector: 'app-todos',\n  templateUrl: './todos.component.html',\n  styleUrls: ['./todos.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TodosComponent implements OnInit {\n  @Input()\n  todos: Todo[];\n\n  @Output()\n  complete = new EventEmitter<Todo>();\n\n  @Output()\n  delete = new EventEmitter<ID>();\n\n  constructor() {}\n\n  ngOnInit() {}\n}\n"],"sourceRoot":""}